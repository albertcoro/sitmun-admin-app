{"version":3,"file":"sitmun-frontend-gui.js","sources":["../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/btn-edit-rendered/btn-edit-rendered.component.ts","../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/btn-checkbox-rendered/btn-checkbox-rendered.component.ts","../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/btn-checkbox-filter/btn-checkbox-filter.component.ts","../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/dialog-message/dialog-message.component.ts","../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/data-grid/data-grid.component.ts","../../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/material-module.ts","../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/dialog-grid/dialog-grid.component.ts","../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/dialog-form/dialog-form.component.ts","../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/data-tree/data-tree.component.ts","../../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/sitmun-frontend-gui.module.ts"],"names":["observableOf"],"mappings":"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","sourcesContent":["import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { Component, OnDestroy } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-btn-edit-rendered',\r\n  templateUrl: './btn-edit-rendered.component.html',\r\n  styleUrls: ['./btn-edit-rendered.component.scss']\r\n})\r\nexport class BtnEditRenderedComponent implements ICellRendererAngularComp, OnDestroy {\r\n\r\n  public params: any;\r\n\r\n  agInit(params: any): void {\r\n    this.params = params;\r\n  }\r\n\r\n  refresh(params: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  btnClickedHandler($event) {\r\n    this.params.clicked(this.params.value);\r\n  }\r\n\r\n  getParams(){\r\n    return this.params;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    // no need to remove the button click handler \r\n  }\r\n\r\n}\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { Component, OnDestroy } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-btn-checkbox-rendered',\r\n  templateUrl: './btn-checkbox-rendered.component.html',\r\n  styleUrls: ['./btn-checkbox-rendered.component.scss']\r\n})\r\nexport class BtnCheckboxRenderedComponent implements ICellRendererAngularComp, OnDestroy {\r\n\r\n  public params: any;\r\n\r\n  agInit(params: any): void {\r\n    this.params = params;\r\n  }\r\n\r\n  refresh(params: any): boolean {\r\n    this.params = params;\r\n    \r\n    return true;\r\n  }\r\n\r\n  public invokeParentMethod() {\r\n    this.params.context.componentParent.methodFromParent(\r\n      `Row: ${this.params.node.rowIndex}, Col: ${this.params.colDef.headerName}`\r\n    );\r\n  }\r\n\r\n  btnCheckedHandler(event) {\r\n    let checked = !event.target.firstElementChild.checked;\r\n    let colId = this.params.column.colId;\r\n    this.params.value=checked;\r\n    this.params.api.undoRedoService.isFilling=true;\r\n    this.params.node.setDataValue(colId, checked);\r\n\r\n    \r\n  }\r\n\r\n  getParams(){\r\n    return this.params;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    // no need to remove the button click handler \r\n  }\r\n\r\n}\r\n","import { Component, ViewChild, ViewContainerRef } from '@angular/core';\r\nimport {FormControl, Validators} from '@angular/forms';\r\nimport {\r\n  IAfterGuiAttachedParams,\r\n  IDoesFilterPassParams,\r\n  IFilterParams,\r\n  RowNode,\r\n  IFloatingFilter,\r\n  NumberFilter,\r\n  NumberFilterModel,\r\n  IFloatingFilterParams,\r\n} from '@ag-grid-community/all-modules';\r\nimport { AgFrameworkComponent } from '@ag-grid-community/angular';\r\nimport { IFilterAngularComp } from '@ag-grid-community/angular';\r\n\r\n@Component({\r\n  selector: 'app-btn-checkbox-filter',\r\n  templateUrl: './btn-checkbox-filter.component.html',\r\n  styleUrls: ['./btn-checkbox-filter.component.scss'],\r\n  host: {'class': 'hostClass'}\r\n})\r\nexport class BtnCheckboxFilterComponent implements IFloatingFilter, AgFrameworkComponent<IFloatingFilterParams>   {\r\n  private params: IFloatingFilterParams;\r\n  private valueGetter: (rowNode: RowNode) => any;\r\n  public text: string = '';\r\n  public currentValue: number;\r\n  @ViewChild('input', { read: ViewContainerRef }) public input;\r\n\r\n  agInit(params: IFloatingFilterParams): void {\r\n    this.params = params;\r\n    this.valueGetter = params.filterParams.valueGetter;\r\n    this.params.suppressFilterButton=true;\r\n  }\r\n\r\n  isFilterActive(): boolean {\r\n    return this.text != null && this.text !== '';\r\n  }\r\n\r\n  doesFilterPass(params: IDoesFilterPassParams): boolean {\r\n    return this.text\r\n      .toLowerCase()\r\n      .split(' ')\r\n      .every(\r\n        (filterWord) =>\r\n          this.valueGetter(params.node)\r\n            .toString()\r\n            .toLowerCase()\r\n            .indexOf(filterWord) >= 0\r\n      );\r\n  }\r\n\r\n  getModel(): any {\r\n    return { value: this.text };\r\n  }\r\n\r\n  setModel(model: any): void {\r\n    this.text = model ? model.value : '';\r\n  }\r\n\r\n\r\n onChange(newValue): void {\r\n    this.params.parentFilterInstance(function (instance) {\r\n      (<NumberFilter>instance).onFloatingFilterChanged(\r\n        'contains',\r\n        newValue\r\n      );\r\n    });\r\n  }\r\n\r\n  onParentModelChanged(parentModel: any): void {\r\n    if (!parentModel) {\r\n      this.currentValue = 0;\r\n    } else {\r\n      // note that the filter could be anything here, but our purposes we're assuming a greater than filter only,\r\n      // so just read off the value and use that\r\n      this.currentValue = parentModel.filter;\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'app-dialog-message',\r\n  templateUrl: './dialog-message.component.html',\r\n  styleUrls: ['./dialog-message.component.scss']\r\n})\r\nexport class DialogMessageComponent implements OnInit {\r\n\r\n  title: string;\r\n  message: string;\r\n  hideCancelButton : boolean=false;\r\n\r\n  constructor(private dialogRef: MatDialogRef<DialogMessageComponent>){ }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  doAccept(){\r\n    this.dialogRef.close({event:'Accept'});\r\n  }\r\n\r\n  closeDialog(){\r\n    this.dialogRef.close({event:'Cancel'});\r\n  }\r\n\r\n}\r\n","import { AgGridModule } from '@ag-grid-community/angular';\r\nimport { Component, OnInit, NgModule, Input, Output, EventEmitter } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { AllCommunityModules, ColumnApi, Module } from '@ag-grid-community/all-modules';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BtnEditRenderedComponent } from '../btn-edit-rendered/btn-edit-rendered.component';\r\nimport { BtnCheckboxRenderedComponent } from '../btn-checkbox-rendered/btn-checkbox-rendered.component';\r\nimport { BtnCheckboxFilterComponent } from '../btn-checkbox-filter/btn-checkbox-filter.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { DialogMessageComponent } from '../dialog-message/dialog-message.component';\r\n\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-data-grid',\r\n  templateUrl: './data-grid.component.html',\r\n  styleUrls: ['./data-grid.component.scss']\r\n})\r\nexport class DataGridComponent implements OnInit {\r\n\r\n  _eventRefreshSubscription: any;\r\n  _eventGetSelectedRowsSubscription: any;\r\n  _eventGetAllRowsSubscription: any;\r\n  _eventSaveAgGridStateSubscription: any;\r\n  modules: Module[] = AllCommunityModules;\r\n\r\n\r\n  UndeRedoActions\r\n  searchValue: string;\r\n  gridApi:any;\r\n  gridColumnApi:any;\r\n  statusColumn = false;\r\n  changesMap: Map<number, Map<string, number>> = new Map<number, Map<string, number>>();\r\n  // We will save the id of edited cells and the number of editions done.\r\n  params:any; // Last parameters of the grid (in case we do apply changes we will need it) \r\n  rowData: any[];\r\n  changeCounter: number; // Number of editions done above any cell \r\n  previousChangeCounter: number; // Number of ditions done after the last modification(changeCounter)\r\n  redoCounter: number; // Number of redo we can do\r\n  modificationChange = false;\r\n  undoNoChanges = false; // Boolean that indicates if an undo hasn't modifications\r\n  gridOptions;\r\n\r\n\r\n  @Input() eventRefreshSubscription: Observable<boolean>;\r\n  @Input() eventGetSelectedRowsSubscription: Observable<boolean>;\r\n  @Input() eventGetAllRowsSubscription: Observable<boolean>;\r\n  @Input() eventSaveAgGridStateSubscription: Observable<boolean>;\r\n  @Input() eventAddItemsSubscription: Observable<boolean>;\r\n  @Input() frameworkComponents: any;\r\n  @Input() columnDefs: any[];\r\n  @Input() getAll: () => Observable<any>;\r\n  @Input() discardChangesButton: boolean;\r\n  @Input() id: any;\r\n  @Input() undoButton: boolean;\r\n  @Input() defaultColumnSorting: string;\r\n  @Input() redoButton: boolean;\r\n  @Input() applyChangesButton: boolean;\r\n  @Input() deleteButton: boolean;\r\n  @Input() newButton: boolean;\r\n  @Input() actionButton: boolean;\r\n  @Input() addButton: boolean;\r\n  @Input() globalSearch: boolean;\r\n  @Input() themeGrid: any;\r\n  @Input() singleSelection: boolean;\r\n  @Input() nonEditable: boolean;\r\n  @Input() title: string;\r\n  @Input() hideExportButton: boolean;\r\n  @Input() hideDuplicateButton: boolean;\r\n  @Input() hideSearchReplaceButton: boolean;\r\n\r\n\r\n  @Output() remove: EventEmitter<any[]>;\r\n  @Output() new: EventEmitter<number>;\r\n  @Output() add: EventEmitter<number>;\r\n  @Output() sendChanges: EventEmitter<any[]>;\r\n  @Output() duplicate: EventEmitter<any[]>;\r\n  @Output() getSelectedRows: EventEmitter<any[]>;\r\n  @Output() getAllRows: EventEmitter<any[]>;\r\n  @Output() getAgGridState: EventEmitter<any[]>;\r\n\r\n\r\n  constructor(public dialog: MatDialog,\r\n    public translate: TranslateService,) {\r\n    this.translate = translate;\r\n\r\n    this.frameworkComponents = {\r\n      btnEditRendererComponent: BtnEditRenderedComponent,\r\n      btnCheckboxRendererComponent: BtnCheckboxRenderedComponent,\r\n      btnCheckboxFilterComponent: BtnCheckboxFilterComponent\r\n    };\r\n\r\n    this.remove = new EventEmitter();\r\n    this.new = new EventEmitter();\r\n    this.add = new EventEmitter();\r\n    this.sendChanges = new EventEmitter();\r\n    this.getSelectedRows = new EventEmitter();\r\n    this.duplicate = new EventEmitter();\r\n    this.getAllRows = new EventEmitter();\r\n    this.changeCounter = 0;\r\n    this.previousChangeCounter = 0;\r\n    this.redoCounter = 0;\r\n    this.gridOptions = {\r\n      defaultColDef: {\r\n        sortable: true,\r\n        flex: 1,\r\n        filter: true,\r\n        editable: !this.nonEditable,\r\n        cellStyle: { backgroundColor: '#FFFFFF' },\r\n        suppressMenu: true,\r\n        resizable: true\r\n      },\r\n      columnTypes: {\r\n        dateColumn: {\r\n          filter: 'agDateColumnFilter',\r\n          filterParams: {\r\n            comparator(filterLocalDateAtMidnight, cellValue) {\r\n              const dateCellValue = new Date(cellValue);\r\n              const dateFilter = new Date(filterLocalDateAtMidnight);\r\n\r\n              if (dateCellValue.getTime() < dateFilter.getTime()) {\r\n                return -1;\r\n              } else if (dateCellValue.getTime() > dateFilter.getTime()) {\r\n                return 1;\r\n              } else {\r\n                return 0;\r\n              }\r\n            },\r\n          },\r\n          suppressMenu: true\r\n        }\r\n      },\r\n      rowSelection: 'multiple',\r\n      singleClickEdit: true,\r\n      // suppressHorizontalScroll: true,\r\n      localeTextFunc: (key: string, defaultValue: string) => {\r\n        const data = this.translate.instant(key);\r\n        return data === key ? defaultValue : data;\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n\r\n    if (this.eventRefreshSubscription) {\r\n      this._eventRefreshSubscription = this.eventRefreshSubscription.subscribe(() => {\r\n        this.changesMap.clear();\r\n        this.changeCounter = 0;\r\n        this.previousChangeCounter = 0;\r\n        this.redoCounter = 0;\r\n        this.getElements();\r\n      });\r\n    }\r\n    if (this.eventGetSelectedRowsSubscription) {\r\n      this._eventGetSelectedRowsSubscription = this.eventGetSelectedRowsSubscription.subscribe(() => {\r\n        this.emitSelectedRows();\r\n      });\r\n    }\r\n    if (this.eventGetAllRowsSubscription) {\r\n      this._eventGetAllRowsSubscription = this.eventGetAllRowsSubscription.subscribe(() => {\r\n        this.emitAllRows();\r\n      });\r\n    }\r\n\r\n    if (this.eventSaveAgGridStateSubscription) {\r\n      this._eventSaveAgGridStateSubscription = this.eventSaveAgGridStateSubscription.subscribe(() => {\r\n        this.saveAgGridState();\r\n      });\r\n    }\r\n\r\n    if (this.eventAddItemsSubscription) {\r\n      this.eventAddItemsSubscription.subscribe(\r\n        (items: any) => {\r\n          this.addItems(items);\r\n        }\r\n      )\r\n    }\r\n  }\r\n\r\n\r\n  firstDataRendered(): void {\r\n    if (localStorage.agGridState != undefined) {\r\n      let agGridState = JSON.parse(localStorage.agGridState)\r\n      if (agGridState.idAgGrid != undefined && agGridState.idAgGrid == this.id) {\r\n        this.gridApi.setFilterModel(agGridState.filterState);\r\n        this.gridColumnApi.setColumnState(agGridState.colState);\r\n        this.gridApi.setSortModel(agGridState.sortState);\r\n        this.searchValue = agGridState.valueSearchGeneric;\r\n        this.quickSearch();\r\n        this.removeAgGridState();\r\n      } else if (this.id != undefined) {\r\n        this.removeAgGridState();\r\n      }\r\n    }\r\n  }\r\n\r\n  onGridReady(params): void {\r\n    if (this.singleSelection) { this.gridOptions.rowSelection = 'single' }\r\n    // if (this.nonEditable) {this.gridOptions.defaultColDef.editable = false}\r\n    this.params = params;\r\n    this.gridApi = params.api;\r\n    this.gridColumnApi = params.columnApi;\r\n    this.getElements();\r\n    console.log(this.columnDefs);\r\n    for (const col of this.columnDefs) {\r\n      if (col.field === 'status') {\r\n        console.log(\"status column true\");\r\n\r\n        this.statusColumn = true;\r\n      }\r\n    }\r\n    if(this.defaultColumnSorting){\r\n      const sortModel = [\r\n        {colId: this.defaultColumnSorting, sort: 'asc'}\r\n    ];\r\n    this.gridApi.setSortModel(sortModel);\r\n    }\r\n  }\r\n\r\n\r\n  areRowsSelected(): Boolean{\r\n    if(this.gridApi!=null && this.gridApi.getSelectedNodes().length > 0){\r\n      return true\r\n    }else{\r\n      return false\r\n    }\r\n  }\r\n\r\n\r\n  emitSelectedRows(): void {\r\n    const selectedNodes = this.gridApi.getSelectedNodes();\r\n    const selectedData = selectedNodes.map(node => node.data);\r\n    this.getSelectedRows.emit(selectedData);\r\n  }\r\n\r\n  emitAllRows(): void {\r\n    let rowData = [];\r\n    this.gridApi.forEachNode(node => rowData.push(node.data));\r\n    this.getAllRows.emit(rowData);\r\n  }\r\n\r\n  saveAgGridState(): void {\r\n    let agGridState = {\r\n      idAgGrid: this.id,\r\n      colState: this.gridColumnApi.getColumnState(),\r\n      filterState: this.gridApi.getFilterModel(),\r\n      sortState: this.gridApi.getSortModel(),\r\n      valueSearchGeneric: this.searchValue\r\n    };\r\n\r\n    localStorage.setItem(\"agGridState\", JSON.stringify(agGridState));\r\n\r\n  }\r\n  removeAgGridState(): void {\r\n    localStorage.removeItem(\"agGridState\")\r\n  }\r\n\r\n  getColumnKeysAndHeaders(columnkeys: Array<any>): String {\r\n    let header: Array<any> = [];\r\n    if (this.columnDefs.length == 0) { return '' };\r\n\r\n    let allColumnKeys = this.gridOptions.columnApi.getAllDisplayedColumns();\r\n    // console.log(allColumnKeys);\r\n    allColumnKeys.forEach(element => {\r\n      if (element.userProvidedColDef.headerName !== '') {\r\n        columnkeys.push(element.userProvidedColDef.field);\r\n        header.push(element.userProvidedColDef.headerName);\r\n      }\r\n\r\n\r\n    });\r\n\r\n    return header.join(\",\");\r\n  }\r\n\r\n\r\n  exportData(): void {\r\n    let columnkeys: Array<any> = [];\r\n    let customHeader: String = '';\r\n    customHeader = this.getColumnKeysAndHeaders(columnkeys)\r\n    let params = {\r\n      onlySelected: true,\r\n      columnKeys: columnkeys,\r\n      customHeader: customHeader,\r\n      skipHeader: true\r\n    };\r\n    this.gridApi.exportDataAsCsv(params);\r\n  }\r\n\r\n  quickSearch(): void {\r\n    this.gridApi.setQuickFilter(this.searchValue);\r\n  }\r\n\r\n  getElements(): void {\r\n    this.getAll()\r\n      .subscribe((items) => {\r\n        this.rowData = items;\r\n        this.gridApi.setRowData(this.rowData);\r\n        this.gridApi.sizeColumnsToFit()\r\n        console.log(this.rowData);\r\n\r\n      });\r\n  }\r\n\r\n  addItems(newItems: any[]): void {\r\n    console.log(newItems);\r\n    let itemsToAdd: Array<any> = [];\r\n\r\n    newItems.forEach(item => {\r\n\r\n      if (item.id == undefined || (this.rowData.find(element => element.id === item.id)) == undefined) {\r\n        if (this.statusColumn) {\r\n          item.status = 'Pending creation'\r\n        }\r\n        itemsToAdd.push(item);\r\n        this.rowData.push(item);\r\n      }\r\n      else {\r\n        console.log(`Item with the ID ${item.id} already exists`)\r\n      }\r\n    });\r\n    this.gridApi.updateRowData({ add: itemsToAdd });\r\n\r\n    console.log(this.columnDefs);\r\n    // params.oldValue!=undefined\r\n  }\r\n\r\n\r\n\r\n\r\n  removeData(): void {\r\n    this.gridApi.stopEditing(false);\r\n    const selectedNodes = this.gridApi.getSelectedNodes();\r\n    const selectedData = selectedNodes.map(node => node.data);\r\n    this.remove.emit(selectedData);\r\n\r\n    if (this.statusColumn) {\r\n      const selectedRows = selectedNodes.map(node => node.id);\r\n\r\n      for (const id of selectedRows) {\r\n        this.gridApi.getRowNode(id).data.status = 'Deleted';\r\n      }\r\n      this.gridOptions.api.refreshCells();\r\n    }\r\n    this.gridOptions.api.deselectAll();\r\n  }\r\n\r\n  newData(): void {\r\n    this.gridApi.stopEditing(false);\r\n    this.new.emit(-1);\r\n  }\r\n\r\n  onAddButtonClicked(): void {\r\n    this.gridApi.stopEditing(false);\r\n    this.add.emit(-1);\r\n  }\r\n\r\n  onDuplicateButtonClicked(): void {\r\n    this.gridApi.stopEditing(false);\r\n    console.log(this.changeCounter);\r\n    if (this.changeCounter > 0) {\r\n      const dialogRef = this.dialog.open(DialogMessageComponent);\r\n      dialogRef.componentInstance.title = this.translate.instant('caution')\r\n      dialogRef.componentInstance.message = this.translate.instant('duplicateMessage')\r\n      dialogRef.afterClosed().subscribe(result => {\r\n        if (result) {\r\n          if (result.event === 'Accept') {\r\n            const selectedNodes = this.gridApi.getSelectedNodes();\r\n            const selectedData = selectedNodes.map(node => node.data);\r\n            this.duplicate.emit(selectedData);\r\n          }\r\n        }\r\n      });\r\n\r\n    }\r\n    else {\r\n      const selectedNodes = this.gridApi.getSelectedNodes();\r\n      const selectedData = selectedNodes.map(node => node.data);\r\n      this.duplicate.emit(selectedData);\r\n    }\r\n  }\r\n\r\n\r\n  applyChanges(): void {\r\n    const itemsChanged: any[] = [];\r\n    this.gridApi.stopEditing(false);\r\n    for (const key of this.changesMap.keys()) {\r\n      itemsChanged.push(this.gridApi.getRowNode(key).data);\r\n    }\r\n    this.sendChanges.emit(itemsChanged);\r\n    this.changesMap.clear();\r\n    this.changeCounter = 0;\r\n    this.previousChangeCounter = 0;\r\n    this.redoCounter = 0;\r\n    this.params.colDef.cellStyle = { backgroundColor: '#FFFFFF' };\r\n    this.gridApi.redrawRows();\r\n  }\r\n\r\n\r\n\r\n  deleteChanges(): void {\r\n    this.gridApi.stopEditing(false);\r\n\r\n    while (this.changeCounter > 0) {\r\n      this.undo();\r\n    }\r\n\r\n    this.changesMap.clear();\r\n    //this.previousChangeCounter = 0;\r\n    this.redoCounter = 0;\r\n\r\n\r\n    //this.params.colDef.cellStyle =  {backgroundColor: '#FFFFFF'};\r\n    //this.gridApi.redrawRows();\r\n  }\r\n\r\n\r\n  onFilterModified(): void {\r\n    this.deleteChanges();\r\n  }\r\n\r\n\r\n  undo(): void {\r\n    this.gridApi.stopEditing(false);\r\n    this.gridApi.undoCellEditing();\r\n    this.changeCounter -= 1;\r\n    this.redoCounter += 1;\r\n  }\r\n\r\n  redo(): void {\r\n    this.gridApi.stopEditing(false);\r\n    this.gridApi.redoCellEditing();\r\n    this.changeCounter += 1;\r\n    this.redoCounter -= 1;\r\n  }\r\n\r\n\r\n  onCellEditingStopped(e) {\r\n    if (this.modificationChange) {\r\n      this.changeCounter++;\r\n      this.redoCounter = 0;\r\n      this.onCellValueChanged(e);\r\n      this.modificationChange = false;\r\n    }\r\n  }\r\n\r\n\r\n  onCellValueChanged(params): void {\r\n    console.log(\"value Change\")\r\n    this.params = params;\r\n    if (this.changeCounter > this.previousChangeCounter)\r\n    // True if we have edited some cell or we have done a redo \r\n    {\r\n\r\n      if (params.oldValue !== params.value && !(params.oldValue == null && params.value === '')) {\r\n\r\n        if (!this.changesMap.has(params.node.id)) // If it's firts edit of a cell, we add it to the map and we paint it\r\n        {\r\n          const addMap: Map<string, number> = new Map<string, number>();\r\n          addMap.set(params.colDef.field, 1)\r\n          this.changesMap.set(params.node.id, addMap);\r\n          if (this.statusColumn) {\r\n            if (this.gridApi.getRowNode(params.node.id).data.status !== 'Pending creation') {\r\n              this.gridApi.getRowNode(params.node.id).data.status = 'Modified'\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          if (!this.changesMap.get(params.node.id).has(params.colDef.field)) {\r\n\r\n            this.changesMap.get(params.node.id).set(params.colDef.field, 1);\r\n          }\r\n\r\n          else {\r\n            // We already had edited this cell, so we only increment number of changes of it on the map \r\n            const currentChanges = this.changesMap.get(params.node.id).get(params.colDef.field);\r\n            this.changesMap.get(params.node.id).set(params.colDef.field, (currentChanges + 1));\r\n          }\r\n\r\n        }\r\n        this.paintCells(params, this.changesMap); //We paint the row of the edited cell \r\n        this.previousChangeCounter++; //We match the current previousChangeCounter with changeCounter\r\n      }\r\n\r\n    }\r\n    else if (this.changeCounter < this.previousChangeCounter) { // True if we have done an undo\r\n      let currentChanges = -1;\r\n      if (this.changesMap.has(params.node.id)) { currentChanges = this.changesMap.get(params.node.id).get(params.colDef.field); }\r\n\r\n      if (currentChanges === 1) { //Once the undo it's done, cell is in his initial status\r\n\r\n        this.changesMap.get(params.node.id).delete(params.colDef.field);\r\n        if (this.changesMap.get(params.node.id).size === 0) { // No more modifications in this row\r\n          this.changesMap.delete(params.node.id);\r\n          const row = this.gridApi.getDisplayedRowAtIndex(params.rowIndex);\r\n          if (this.statusColumn) {\r\n            if (this.gridApi.getRowNode(params.node.id).data.status !== 'Pending creation') {\r\n              this.gridApi.getRowNode(params.node.id).data.status = ''\r\n            }\r\n          };\r\n          // We paint it white\r\n          this.gridApi.redrawRows({ rowNodes: [row] });\r\n\r\n        }\r\n        else {\r\n          this.paintCells(params, this.changesMap);\r\n        }\r\n\r\n      }\r\n      else if (currentChanges > 1) // The cell isn't in his initial state yet\r\n      {                                 //We can't do else because we can be doing an undo without changes \r\n        this.changesMap.get(params.node.id).set(params.colDef.field, (currentChanges - 1));\r\n\r\n        this.paintCells(params, this.changesMap);//Not initial state -> green background\r\n\r\n      }\r\n      this.previousChangeCounter--;  //We decrement previousChangeCounter because we have done undo\r\n    }\r\n    else { // Control of modifications without changes\r\n      if (!(params.oldValue == null && params.value === '')) {\r\n        let newValue: string;\r\n        if (params.value == null) { newValue = '' }\r\n        else { newValue = params.value.toString() }\r\n\r\n        if ((params.oldValue != undefined && params.oldValue != null && params.oldValue.toString() !== newValue.toString())\r\n          || ((params.oldValue == undefined || params.oldValue == null) && newValue != null)) {\r\n\r\n          this.modificationChange = true;\r\n          if (params.colDef.cellRenderer == \"btnCheckboxRendererComponent\") {\r\n            var undoRedoActions = {\r\n              cellValueChanges: this.gridApi.undoRedoService.cellValueChanges\r\n            };\r\n            this.gridApi.undoRedoService.pushActionsToUndoStack(undoRedoActions);\r\n            this.gridApi.undoRedoService.isFilling = false;\r\n            this.onCellEditingStopped(params);\r\n          }\r\n        }\r\n        else { this.modificationWithoutChanges(params) }\r\n\r\n      }\r\n      else { this.modificationWithoutChanges(params) }\r\n    }\r\n  }\r\n\r\n  modificationWithoutChanges(params: any) {\r\n\r\n    if (this.changesMap.has(params.node.id)) //Modification without changes in en edited cell\r\n    {\r\n      if (!this.undoNoChanges) {\r\n        this.gridApi.undoCellEditing(); // Undo to delete the change without changes internally \r\n        this.undoNoChanges = true;\r\n        this.paintCells(params, this.changesMap);  //The cell has modifications yet -> green background \r\n      }\r\n      else { this.undoNoChanges = false; }\r\n\r\n\r\n    }\r\n    else {\r\n      //With the internally undo will enter at this function, so we have to control when done the undo or not \r\n      if (!this.undoNoChanges) {\r\n        this.gridApi.undoCellEditing(); // Undo to delete the change internally\r\n        this.undoNoChanges = true;\r\n      }\r\n      else { this.undoNoChanges = false; }\r\n    }\r\n\r\n  }\r\n\r\n  getColumnIndexByColId(api: ColumnApi, colId: string): number {\r\n    return api.getAllColumns().findIndex(col => col.getColId() === colId);\r\n  }\r\n  paintCells(params: any, changesMap: Map<number, Map<string, number>>,) {\r\n    const row = this.gridApi.getDisplayedRowAtIndex(params.rowIndex);\r\n\r\n    this.changeCellStyleColumns(params, changesMap, '#E8F1DE');\r\n    this.gridApi.redrawRows({ rowNodes: [row] });\r\n    this.changeCellStyleColumns(params, changesMap, '#FFFFFF');\r\n    // We will define cellStyle white to future modifications (like filter)\r\n  }\r\n\r\n  changeCellStyleColumns(params: any, changesMap: Map<number, Map<string, number>>, color: string) {\r\n\r\n    for (const key of changesMap.get(params.node.id).keys()) {\r\n      const columnNumber = this.getColumnIndexByColId(this.gridColumnApi, key);\r\n      this.gridColumnApi.columnController.gridColumns[columnNumber].colDef.cellStyle = { backgroundColor: color };\r\n    }\r\n\r\n\r\n  }\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {A11yModule} from '@angular/cdk/a11y';\r\nimport {DragDropModule} from '@angular/cdk/drag-drop';\r\nimport {PortalModule} from '@angular/cdk/portal';\r\nimport {ScrollingModule} from '@angular/cdk/scrolling';\r\nimport {CdkStepperModule} from '@angular/cdk/stepper';\r\nimport {CdkTableModule} from '@angular/cdk/table';\r\nimport {CdkTreeModule} from '@angular/cdk/tree';\r\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\r\nimport {MatBadgeModule} from '@angular/material/badge';\r\nimport {MatBottomSheetModule} from '@angular/material/bottom-sheet';\r\nimport {MatButtonModule} from '@angular/material/button';\r\nimport {MatButtonToggleModule} from '@angular/material/button-toggle';\r\nimport {MatCardModule} from '@angular/material/card';\r\nimport {MatCheckboxModule} from '@angular/material/checkbox';\r\nimport {MatChipsModule} from '@angular/material/chips';\r\nimport {MatStepperModule} from '@angular/material/stepper';\r\nimport {MatDatepickerModule} from '@angular/material/datepicker';\r\nimport {MatDialogModule} from '@angular/material/dialog';\r\nimport {MatDividerModule} from '@angular/material/divider';\r\nimport {MatExpansionModule} from '@angular/material/expansion';\r\nimport {MatGridListModule} from '@angular/material/grid-list';\r\nimport {MatIconModule} from '@angular/material/icon';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatListModule} from '@angular/material/list';\r\nimport {MatMenuModule} from '@angular/material/menu';\r\nimport {MatNativeDateModule, MatRippleModule} from '@angular/material/core';\r\nimport {MatPaginatorModule} from '@angular/material/paginator';\r\nimport {MatProgressBarModule} from '@angular/material/progress-bar';\r\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\r\nimport {MatRadioModule} from '@angular/material/radio';\r\nimport {MatSelectModule} from '@angular/material/select';\r\nimport {MatSidenavModule} from '@angular/material/sidenav';\r\nimport {MatSliderModule} from '@angular/material/slider';\r\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\r\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\r\nimport {MatSortModule} from '@angular/material/sort';\r\nimport {MatTableModule} from '@angular/material/table';\r\nimport {MatTabsModule} from '@angular/material/tabs';\r\nimport {MatToolbarModule} from '@angular/material/toolbar';\r\nimport {MatTooltipModule} from '@angular/material/tooltip';\r\nimport {MatTreeModule} from '@angular/material/tree';\r\nimport {MatFormFieldModule} from '@angular/material/form-field';\r\n\r\n@NgModule({\r\n  exports: [\r\n    A11yModule,\r\n    CdkStepperModule,\r\n    CdkTableModule,\r\n    CdkTreeModule,\r\n    DragDropModule,\r\n    MatAutocompleteModule,\r\n    MatBadgeModule,\r\n    MatBottomSheetModule,\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatChipsModule,\r\n    MatStepperModule,\r\n    MatDatepickerModule,\r\n    MatDialogModule,\r\n    MatDividerModule,\r\n    MatExpansionModule,\r\n    MatGridListModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatListModule,\r\n    MatMenuModule,\r\n    MatNativeDateModule,\r\n    MatPaginatorModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatRippleModule,\r\n    MatSelectModule,\r\n    MatSidenavModule,\r\n    MatSliderModule,\r\n    MatSlideToggleModule,\r\n    MatSnackBarModule,\r\n    MatSortModule,\r\n    MatTableModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n    MatTooltipModule,\r\n    MatTreeModule,\r\n    PortalModule,\r\n    ScrollingModule,\r\n    MatFormFieldModule\r\n  ]\r\n})\r\nexport class MaterialModule {}\r\n","import { Component, OnInit, Input, Output, EventEmitter, Inject } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\n\r\nexport interface DialogData {\r\n  _GetAllsTable:  Array<() => Observable<any>>;\r\n  _columnDefsTable: Array<any[]>;\r\n  _singleSelectionTable: Array<boolean>;\r\n}\r\n\r\n\r\n@Component({\r\n  selector: 'app-dialog-grid',\r\n  templateUrl: './dialog-grid.component.html',\r\n  styleUrls: ['./dialog-grid.component.scss']\r\n})\r\nexport class DialogGridComponent implements OnInit {\r\n\r\n  title: string;\r\n  getAllRows: Subject<boolean> = new Subject <boolean>();\r\n  private _addButtonClickedSubscription: any;\r\n  tablesReceivedCounter: number;\r\n  allRowsReceived: Array<any[]> = [];\r\n\r\n  //Inputs\r\n  themeGrid: any;\r\n  getAllsTable: Array<() => Observable<any>>;\r\n  columnDefsTable: Array<any[]>;\r\n  singleSelectionTable: Array<boolean>;\r\n  titlesTable: Array<string>;\r\n  addButtonClickedSubscription: Observable <boolean> ;\r\n  nonEditable: boolean;\r\n\r\n  //Outputs\r\n  @Output() joinTables : EventEmitter<Array<any[]>>;\r\n\r\n  \r\n\r\n\r\n  constructor(private dialogRef: MatDialogRef<DialogGridComponent>) {\r\n    \r\n    this.joinTables = new EventEmitter();\r\n    // this.nonEditable = true;\r\n    this.tablesReceivedCounter = 0;\r\n   }\r\n\r\n  ngOnInit() {\r\n\r\n    if (this.addButtonClickedSubscription) {\r\n      this._addButtonClickedSubscription = this.addButtonClickedSubscription.subscribe(() => {\r\n        this.getAllSelectedRows();\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  getAllSelectedRows() {\r\n    this.getAllRows.next(true);\r\n  }\r\n\r\n  joinRowsReceived(data: any[])\r\n  {\r\n      this.allRowsReceived.push(data);\r\n      this.tablesReceivedCounter++;\r\n      if(this.tablesReceivedCounter === this.getAllsTable.length)\r\n      {\r\n        this.doAdd(this.allRowsReceived);\r\n        console.log(this.allRowsReceived);\r\n      }\r\n  }\r\n\r\n  doAdd(rowsToAdd){\r\n    this.dialogRef.close({event:'Add',data: rowsToAdd});\r\n  }\r\n\r\n  closeDialog(){\r\n    this.dialogRef.close({event:'Cancel'});\r\n  }\r\n\r\n}\r\n","import { Component, ElementRef, OnInit, TemplateRef, ViewChild } from '@angular/core';\r\nimport { FormGroup,FormControl,Validators } from '@angular/forms';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog'; \r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { DialogMessageComponent } from '../dialog-message/dialog-message.component';\r\n\r\n@Component({\r\n  selector: 'app-dialog-form',\r\n  templateUrl: './dialog-form.component.html',\r\n  styleUrls: ['./dialog-form.component.scss']\r\n})\r\nexport class DialogFormComponent implements OnInit {\r\n\r\n  form: FormGroup;\r\n  title: string;\r\n  HTMLReceived;\r\n  constructor(\r\n    private dialogRef: MatDialogRef<DialogFormComponent>,\r\n    public dialog: MatDialog,\r\n    private translate: TranslateService) {}\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n\r\n  doAdd(){\r\n    if(this.form.valid) { this.dialogRef.close({event:'Add'}); }\r\n    else {\r\n       const dialogRef = this.dialog.open(DialogMessageComponent);\r\n       dialogRef.componentInstance.title = this.translate.instant(\"atention\")\r\n       dialogRef.componentInstance.message = this.translate.instant(\"requiredFieldMessage\")\r\n       dialogRef.componentInstance.hideCancelButton = true;\r\n       dialogRef.afterClosed().subscribe();\r\n    }\r\n\r\n  }\r\n\r\n  closeDialog(){\r\n    this.dialogRef.close({event:'Cancel'});\r\n  }\r\n\r\n}\r\n","import { FlatTreeControl } from '@angular/cdk/tree';\r\nimport { Component, EventEmitter, Injectable, Input, Output,ElementRef, ViewChild } from '@angular/core';\r\nimport { MatTreeFlatDataSource, MatTreeFlattener } from '@angular/material/tree';\r\nimport { BehaviorSubject, Observable, of as observableOf } from 'rxjs';\r\nimport { CdkDragDrop } from '@angular/cdk/drag-drop';\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\nimport { forEach } from 'jszip';\r\n\r\n/**\r\n * File node data with nested structure.\r\n * Each node has a name, and a type or a list of children.\r\n */\r\nexport class FileNode {\r\n  id: string;\r\n  children: FileNode[];\r\n  name: string;\r\n  type: any;\r\n  active: any\r\n  cartographyId: any\r\n  cartographyName: any\r\n  datasetURL: any\r\n  description: any\r\n  filterGetFeatureInfo: any\r\n  filterGetMap: any\r\n  filterSelectable: any\r\n  isFolder: any\r\n  metadataURL: any\r\n  order: any\r\n  parent: any\r\n  queryableActive: any\r\n  radio: any\r\n  tooltip: any\r\n  _links: any\r\n}\r\n\r\n/** Flat node with expandable and level information */\r\nexport class FileFlatNode {\r\n  constructor(\r\n    public expandable: boolean,\r\n    public name: string,\r\n    public level: number,\r\n    public type: any,\r\n    public id: string\r\n  ) { }\r\n}\r\n\r\n\r\n\r\n/**\r\n * File database, it can build a tree structured Json object from string.\r\n * Each node in Json object represents a file or a directory. For a file, it has name and type.\r\n * For a directory, it has name and children (a list of files or directories).\r\n * The input will be a json object string, and the output is a list of `FileNode` with nested\r\n * structure.\r\n */\r\n@Injectable()\r\nexport class FileDatabase {\r\n  dataChange = new BehaviorSubject<FileNode[]>([]);\r\n  get data(): any { return this.dataChange.value; }\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  initialize(dataObj) {\r\n\r\n    // Build the tree nodes from Json object. The result is a list of `FileNode` with nested\r\n    //     file node as children.\r\n    const data = this.buildFileTree(dataObj, 0);\r\n\r\n    // Notify the change.\r\n    this.dataChange.next(data);\r\n  }\r\n\r\n  /**\r\n   * Build the file structure tree. The `value` is the Json object, or a sub-tree of a Json object.\r\n   * The return value is the list of `FileNode`.\r\n   */\r\n  buildFileTree(arrayTreeNodes: any[], level: number): any {\r\n    var map = {};\r\n    if(arrayTreeNodes.length===0)\r\n    {\r\n      let root = {\r\n        isFolder:true,\r\n        name:'Root',\r\n        type: 'folder',\r\n        children: []\r\n      }\r\n      map['root']=root;\r\n    }\r\n    else{\r\n      arrayTreeNodes.forEach((treeNode) => {\r\n        var obj = treeNode;\r\n        obj.children = [];\r\n        obj.type= (treeNode.isFolder)? \"folder\" : \"node\";\r\n  \r\n        if(!map[obj.id]) {map[obj.id] = obj;}\r\n        else{\r\n          let previousChildren= map[obj.id].children\r\n          map[obj.id] = obj;\r\n          map[obj.id].children=previousChildren\r\n        }\r\n        var parent = obj.parent || 'root';\r\n        if (!map[parent]) {\r\n          map[parent] = {\r\n            children: []\r\n          };\r\n        }\r\n        map[parent].children.push(obj);\r\n      });\r\n      map['root'].type='folder';\r\n      map['root'].name='Root';\r\n      map['root'].isFolder=true;\r\n    }\r\n\r\n\r\n    return map['root'];\r\n  }\r\n  \r\n\r\n  deleteItem(node: FileNode) {\r\n    this.deleteNode(this.data.children, node);\r\n    this.dataChange.next(this.data);\r\n  }\r\n\r\n  deleteNode(nodes: FileNode[], nodeToDelete: FileNode) {\r\n    const index = nodes.indexOf(nodeToDelete, 0);\r\n    if (index > -1) {\r\n      nodes.splice(index, 1);\r\n    } else {\r\n      nodes.forEach(node => {\r\n        if (node.children && node.children.length > 0) {\r\n          this.deleteNode(node.children, nodeToDelete);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  copyPasteItem(from: FileNode, to: FileNode): FileNode {\r\n    const newItem = this.insertItem(to, from);\r\n\r\n    return newItem;\r\n  }\r\n\r\n  copyPasteItemAbove(from: FileNode, to: FileNode): FileNode {\r\n    const newItem = this.insertItemAbove(to, from);\r\n\r\n    return newItem;\r\n  }\r\n\r\n  copyPasteItemBelow(from: FileNode, to: FileNode): FileNode {\r\n    const newItem = this.insertItemBelow(to, from);\r\n\r\n    return newItem;\r\n  }\r\n\r\n  /** Add an item to to-do list */\r\n  \r\n  getNewItem(node:FileNode){\r\n    const newItem = {\r\n      name: node.name,\r\n      children: node.children,\r\n      type: node.type,\r\n      id: node.id, \r\n      active: node.active,\r\n      cartographyId: node.cartographyId,\r\n      cartographyName: node.cartographyName,\r\n      datasetURL: node.datasetURL,\r\n      description: node.description,\r\n      filterGetFeatureInfo: node.filterGetFeatureInfo,\r\n      filterGetMap: node.filterGetMap,\r\n      filterSelectable: node.filterSelectable,\r\n      isFolder: node.isFolder,\r\n      metadataURL: node.metadataURL,\r\n      order: node.order,\r\n      queryableActive: node.queryableActive,\r\n      radio: node.radio,\r\n      tooltip: node.tooltip,\r\n      _links: node._links } as FileNode;\r\n\r\n    return newItem;\r\n  }\r\n\r\n  insertItem(parent: FileNode, node: FileNode): FileNode {\r\n    if (!parent.children) {\r\n      parent.children = [];\r\n    }\r\n    const newItem = this.getNewItem(node)\r\n    newItem.parent = parent==null || parent.id==undefined?null:parent.id;\r\n\r\n    parent.children.push(newItem);\r\n    this.dataChange.next(this.data);\r\n    return newItem;\r\n  }\r\n\r\n  insertItemAbove(node: FileNode, nodeDrag: FileNode): FileNode {\r\n    const parentNode = this.getParentFromNodes(node);\r\n    const newItem = this.getNewItem(nodeDrag)\r\n    newItem.parent = parentNode==null || parentNode.id==undefined?null:parentNode.id;\r\n\r\n    if (parentNode != null) {\r\n      parentNode.children.splice(parentNode.children.indexOf(node), 0, newItem);\r\n    } else {\r\n      this.data.children.splice(this.data.children.indexOf(node), 0, newItem);\r\n    }\r\n    this.dataChange.next(this.data);\r\n    return newItem;\r\n  }\r\n\r\n  insertItemBelow(node: FileNode, nodeDrag: FileNode): FileNode {\r\n    const parentNode = this.getParentFromNodes(node);\r\n   \r\n    const newItem = this.getNewItem(nodeDrag)\r\n    newItem.parent = parentNode==null || parentNode.id==undefined?null:parentNode.id;\r\n\r\n    if (parentNode != null) {\r\n      parentNode.children.splice(parentNode.children.indexOf(node) + 1, 0, newItem);\r\n    } else {\r\n      this.data.children.splice(this.data.children.indexOf(node) + 1, 0, newItem);\r\n    }\r\n    this.dataChange.next(this.data);\r\n    return newItem;\r\n  }\r\n\r\n  \r\n  getParentFromNodes(node: FileNode): FileNode {\r\n    for (let i = 0; i < this.data.children.length; ++i) {\r\n      const currentRoot = this.data.children[i];\r\n      const parent = this.getParent(currentRoot, node);\r\n      if (parent != null) {\r\n        return parent;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  \r\n  getParent(currentRoot: FileNode, node: FileNode): FileNode {\r\n    if (currentRoot.children && currentRoot.children.length > 0) {\r\n      for (let i = 0; i < currentRoot.children.length; ++i) {\r\n        const child = currentRoot.children[i];\r\n        if (child === node) {\r\n          return currentRoot;\r\n        } else if (child.children && child.children.length > 0) {\r\n          const parent = this.getParent(child, node);\r\n          if (parent != null) {\r\n            return parent;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * @title Tree with flat nodes\r\n */\r\n@Component({\r\n  selector: 'app-data-tree',\r\n  templateUrl: 'data-tree.component.html',\r\n  styleUrls: ['data-tree.component.scss'],\r\n  providers: [FileDatabase]\r\n})\r\nexport class DataTreeComponent {\r\n  @Output() createNode: EventEmitter<any>;\r\n  @Output() createFolder: EventEmitter<any>;\r\n  @Output() emitNode: EventEmitter<any>;\r\n  @Output() emitAllNodes: EventEmitter<any>;\r\n  @Input() eventNodeUpdatedSubscription: Observable <any> ;\r\n  @Input() eventCreateNodeSubscription: Observable <any> ;\r\n  @Input() eventGetAllRowsSubscription: Observable <any> ;\r\n  private _eventNodeUpdatedSubscription: any;\r\n  private _eventCreateNodeSubscription: any;\r\n  private _eventGetAllRowsSubscription: any;\r\n  treeControl: FlatTreeControl<FileFlatNode>;\r\n  treeFlattener: MatTreeFlattener<FileNode, FileFlatNode>;\r\n  dataSource: MatTreeFlatDataSource<FileNode, FileFlatNode>;\r\n  // expansion model tracks expansion state\r\n  expansionModel = new SelectionModel<string>(true);\r\n  dragging = false;\r\n  expandTimeout: any;\r\n  expandDelay = 1000;\r\n  validateDrop = false;\r\n  treeData: any;\r\n\r\n  @Input() getAll: () => Observable<any>;\r\n\r\n\r\n  /* Drag and drop */\r\n  dragNode: any;\r\n  dragNodeExpandOverWaitTimeMs = 1500;\r\n  dragNodeExpandOverNode: any;\r\n  dragNodeExpandOverTime: number;\r\n  dragNodeExpandOverArea: string;\r\n  @ViewChild('emptyItem') emptyItem: ElementRef;\r\n\r\n    /** Map from flat node to nested node. This helps us finding the nested node to be modified */\r\n    flatNodeMap = new Map<FileFlatNode, FileNode>();\r\n\r\n    /** Map from nested node to flattened node. This helps us to keep the same object for selection */\r\n    nestedNodeMap = new Map<FileNode, FileFlatNode>();\r\n\r\n\r\n  constructor(public database: FileDatabase) {\r\n    this.emitNode = new EventEmitter();\r\n    this.createNode = new EventEmitter();\r\n    this.createFolder = new EventEmitter();\r\n    this.emitAllNodes = new EventEmitter();\r\n    this.treeFlattener = new MatTreeFlattener(this.transformer, this._getLevel,\r\n      this._isExpandable, this._getChildren);\r\n    this.treeControl = new FlatTreeControl<FileFlatNode>(this._getLevel, this._isExpandable);\r\n    this.dataSource = new MatTreeFlatDataSource(this.treeControl, this.treeFlattener);\r\n \r\n  }\r\n\r\n  ngOnInit(){\r\n\r\n    if(this.eventNodeUpdatedSubscription)\r\n    {\r\n      this.eventNodeUpdatedSubscription.subscribe(\r\n        (node) => {\r\n          this.updateNode(node);\r\n        }\r\n      )\r\n    }\r\n    if(this.eventCreateNodeSubscription)\r\n    {\r\n      this.eventCreateNodeSubscription.subscribe(\r\n        (node) => {\r\n          if(node.isFolder) this.createNewFolder(node);\r\n          else this.createNewNode(node);\r\n        }\r\n      )\r\n    }\r\n\r\n    if (this.eventGetAllRowsSubscription) {\r\n      this._eventGetAllRowsSubscription = this.eventGetAllRowsSubscription.subscribe(() => {\r\n        this.emitAllRows();\r\n      });\r\n    }\r\n    \r\n    this.getAll()\r\n    .subscribe((items) => {\r\n      this.treeData = items;\r\n      this.database.initialize(this.treeData);\r\n      this.database.dataChange.subscribe(data => this.rebuildTreeForData([data]));\r\n    });\r\n  }\r\n\r\n\r\n  transformer = (node: FileNode, level: number) => {\r\n    const existingNode = this.nestedNodeMap.get(node);\r\n    const flatNode = existingNode && existingNode.name === node.name\r\n      ? existingNode\r\n      : new FileFlatNode((node.children && node.children.length > 0),node.name,level,node.type,node.id);\r\n\r\n    this.flatNodeMap.set(flatNode, node);\r\n    this.nestedNodeMap.set(node, flatNode);\r\n    return flatNode;\r\n  \r\n  }\r\n  private _getLevel = (node: FileFlatNode) => node.level;\r\n  private _isExpandable = (node: FileFlatNode) => node.expandable;\r\n  private _getChildren = (node: FileNode): Observable<FileNode[]> => observableOf(node.children);\r\n  hasChild = (_: number, _nodeData: FileFlatNode) => _nodeData.expandable;\r\n\r\n\r\n  /**\r\n   * This constructs an array of nodes that matches the DOM\r\n   */\r\n  visibleNodes(): FileNode[] {\r\n    const result = [];\r\n\r\n    function addExpandedChildren(node: FileNode, expanded: string[]) {\r\n      result.push(node);\r\n      if (expanded.indexOf(node.id) != -1) {\r\n        node.children.map((child) => addExpandedChildren(child, expanded));\r\n      }\r\n    }\r\n    this.dataSource.data.forEach((node) => {\r\n      addExpandedChildren(node, this.expansionModel.selected);\r\n    });\r\n    return result;\r\n  }\r\n\r\n\r\n   findNodeSiblings(arr: Array<any>, id: string): Array<any> {\r\n    let result, subResult;\r\n    arr.forEach((item, i) => {\r\n      if (item.id === id) {\r\n        result = arr;\r\n      } else if (item.children) {\r\n        subResult = this.findNodeSiblings(item.children, id);\r\n        if (subResult) result = subResult;\r\n      }\r\n    });\r\n    return result;\r\n\r\n  }\r\n\r\n\r\n  handleDragStart(event, node) {\r\n    // Required by Firefox (https://stackoverflow.com/questions/19055264/why-doesnt-html5-drag-and-drop-work-in-firefox)\r\n    event.dataTransfer.setData('foo', 'bar');\r\n    event.dataTransfer.setDragImage(this.emptyItem.nativeElement, 0, 0);\r\n    this.dragNode = node;\r\n    this.treeControl.collapse(node);\r\n  }\r\n\r\n  handleDragOver(event, node) {\r\n    event.preventDefault();\r\n\r\n    // Handle node expand\r\n    if (node === this.dragNodeExpandOverNode) {\r\n      if (this.dragNode !== node && !this.treeControl.isExpanded(node)) {\r\n        if ((new Date().getTime() - this.dragNodeExpandOverTime) > this.dragNodeExpandOverWaitTimeMs) {\r\n          this.treeControl.expand(node);\r\n        }\r\n      }\r\n    } else {\r\n      this.dragNodeExpandOverNode = node;\r\n      this.dragNodeExpandOverTime = new Date().getTime();\r\n    }\r\n\r\n    // Handle drag area\r\n    const percentageX = event.offsetX / event.target.clientWidth;\r\n    const percentageY = event.offsetY / event.target.clientHeight;\r\n    if (percentageY < 0.25) {\r\n      this.dragNodeExpandOverArea = 'above';\r\n    } else if (percentageY > 0.75) {\r\n      this.dragNodeExpandOverArea = 'below';\r\n    } else {\r\n      this.dragNodeExpandOverArea = 'center';\r\n    }\r\n  }\r\n\r\n  handleDrop(event, node) {\r\n    event.preventDefault();\r\n    let toFlatNode=this.flatNodeMap.get(node);\r\n    let fromFlatNode=this.flatNodeMap.get(this.dragNode)\r\n    if (node !== this.dragNode && (this.dragNodeExpandOverArea !== 'center' || (this.dragNodeExpandOverArea === 'center' && toFlatNode.isFolder))) {\r\n      let newItem: FileNode;\r\n\r\n      if (this.dragNodeExpandOverArea === 'above') {\r\n        newItem = this.database.copyPasteItemAbove(fromFlatNode,toFlatNode);\r\n      } else if (this.dragNodeExpandOverArea === 'below') {\r\n        newItem = this.database.copyPasteItemBelow(fromFlatNode,toFlatNode);\r\n      } else {\r\n        newItem = this.database.copyPasteItem(fromFlatNode, toFlatNode);\r\n      }\r\n      let parentLvl=this.treeControl.dataNodes.find((n) => n.id === fromFlatNode.id).level;\r\n      fromFlatNode.children.forEach(child=>{\r\n        this.treeControl.dataNodes.find((n) => n.id === child.id).level=parentLvl+1\r\n      });\r\n      this.database.deleteItem(this.flatNodeMap.get(this.dragNode));\r\n      this.treeControl.expandDescendants(this.nestedNodeMap.get(newItem));\r\n    }\r\n   \r\n    this.dragNode = null;\r\n    this.dragNodeExpandOverNode = null;\r\n    this.dragNodeExpandOverTime = 0;\r\n  }\r\n\r\n  handleDragEnd(event) {\r\n    this.dragNode = null;\r\n    this.dragNodeExpandOverNode = null;\r\n    this.dragNodeExpandOverTime = 0;\r\n  }\r\n\r\n  /**\r\n   * The following methods are for persisting the tree expand state\r\n   * after being rebuilt\r\n   */\r\n\r\n  rebuildTreeForData(data: any[]) {\r\n    /*this.dataSource.data = data;\r\n    this.expansionModel.selected.forEach((id) => {\r\n      const node = this.treeControl.dataNodes.find((n) => n.id === id);\r\n      this.treeControl.expand(node);\r\n    });*/\r\n    this.dataSource.data = [];\r\n    this.dataSource.data = data;\r\n  }\r\n\r\n  private getParentNode(node: FileFlatNode): FileFlatNode | null {\r\n    const currentLevel = node.level;\r\n    if (currentLevel < 1) {\r\n      return null;\r\n    }\r\n    const startIndex = this.treeControl.dataNodes.indexOf(node) - 1;\r\n    for (let i = startIndex; i >= 0; i--) {\r\n      const currentNode = this.treeControl.dataNodes[i];\r\n      if (currentNode.level < currentLevel) {\r\n        return currentNode;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  updateNode(nodeUpdated)\r\n  {\r\n    const dataToChange = JSON.parse(JSON.stringify(this.dataSource.data))\r\n    const siblings = this.findNodeSiblings(dataToChange, nodeUpdated.id);\r\n    let index= siblings.findIndex(node => node.id === nodeUpdated.id)\r\n    siblings[index]=nodeUpdated;\r\n    this.rebuildTreeForData(dataToChange);\r\n\r\n  }\r\n\r\n  createNewFolder(newFolder)\r\n  {\r\n    newFolder.type=\"folder\";\r\n    const dataToChange = JSON.parse(JSON.stringify(this.dataSource.data))\r\n    if(newFolder.parent === null) {dataToChange.push(newFolder)}\r\n    else{\r\n      const siblings = this.findNodeSiblings(dataToChange, newFolder.parent);\r\n      let index= siblings.findIndex(node => node.id === newFolder.parent);\r\n      siblings[index].children.push(newFolder)\r\n    }\r\n    this.rebuildTreeForData(dataToChange);\r\n\r\n  }\r\n\r\n  createNewNode(newNode)\r\n  {\r\n    newNode.type=\"node\";\r\n    const dataToChange = JSON.parse(JSON.stringify(this.dataSource.data))\r\n    const siblings = this.findNodeSiblings(dataToChange, newNode.parent);\r\n    let index= siblings.findIndex(node => node.id === newNode.parent);\r\n    siblings[index].children.push(newNode)\r\n    \r\n\r\n    this.rebuildTreeForData(dataToChange);\r\n\r\n  }\r\n\r\n\r\n\r\n  onButtonClicked(id, button: string)\r\n  {\r\n    const changedData = JSON.parse(JSON.stringify(this.dataSource.data))\r\n    const siblings = this.findNodeSiblings(changedData, id);\r\n    let nodeClicked= siblings.find(node => node.id === id);\r\n    if(button ==='edit')  {this.emitNode.emit(nodeClicked)}\r\n    else if(button === 'newFolder') {this.createFolder.emit(nodeClicked)}\r\n    else if(button === 'newNode') {this.createNode.emit( nodeClicked)}\r\n    else if(button === 'delete') {\r\n      let children= this.getAllChildren(nodeClicked.children)\r\n      children.forEach(children => {\r\n        children.status='Deleted';\r\n      });\r\n      nodeClicked.children=children\r\n      nodeClicked.status='Deleted'\r\n      this.rebuildTreeForData(changedData);\r\n    }\r\n\r\n  }\r\n\r\n  emitAllRows()\r\n  {\r\n    const dataToEmit = JSON.parse(JSON.stringify(this.dataSource.data))\r\n    let allRows = this.getAllChildren(dataToEmit); \r\n    this.emitAllNodes.emit(allRows);\r\n  }\r\n\r\n  getAllChildren(arr)\r\n  {\r\n    let result = [];\r\n    let subResult;\r\n    arr.forEach((item, i) => {\r\n      if (item.children.length>0) {\r\n        subResult = this.getAllChildren(item.children);\r\n        if (subResult) result.push(...subResult);\r\n      }\r\n      result.push(item);\r\n\r\n    });\r\n    return result;\r\n  }\r\n\r\n}\r\n\r\n\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HttpClientModule, HttpClient, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { BrowserAnimationsModule, NoopAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\n//import * as ol from 'openlayers';\r\nimport { TranslateModule, TranslateLoader, TranslateService } from '@ngx-translate/core';\r\nimport { registerLocaleData } from '@angular/common';\r\nimport { AngularHalModule } from '@sitmun/frontend-core';\r\n\r\n\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport localeCa from '@angular/common/locales/ca';\r\nimport localeEs from '@angular/common/locales/es';\r\nimport { SitmunFrontendCoreModule } from '@sitmun/frontend-core';\r\nimport { DataGridComponent } from './data-grid/data-grid.component';\r\n\r\nimport { AgGridModule } from '@ag-grid-community/angular';\r\n\r\nimport {MaterialModule} from './material-module';\r\n\r\nimport { BtnEditRenderedComponent } from './btn-edit-rendered/btn-edit-rendered.component';\r\nimport { BtnCheckboxRenderedComponent } from './btn-checkbox-rendered/btn-checkbox-rendered.component';\r\nimport { BtnCheckboxFilterComponent } from './btn-checkbox-filter/btn-checkbox-filter.component';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { DialogGridComponent } from './dialog-grid/dialog-grid.component';\r\nimport { DialogFormComponent } from './dialog-form/dialog-form.component';\r\nimport { DialogMessageComponent } from './dialog-message/dialog-message.component';\r\nimport { DataTreeComponent } from './data-tree/data-tree.component';\r\n\r\n\r\nregisterLocaleData(localeCa, 'ca');\r\nregisterLocaleData(localeEs, 'es');\r\n\r\n/** Load translation assets */\r\nexport function createTranslateLoader(http: HttpClient) {\r\n  return new TranslateHttpLoader(http, '../assets/i18n/', '.json');\r\n}\r\n\r\n\r\n/** SITMUN plugin core module */\r\n@NgModule({\r\n  imports: [\r\n    RouterModule,\r\n    HttpClientModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    NoopAnimationsModule,\r\n    AngularHalModule,\r\n    ReactiveFormsModule,\r\n    BrowserAnimationsModule,\r\n    AgGridModule,\r\n    SitmunFrontendCoreModule,\r\n    MaterialModule,\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: (createTranslateLoader),\r\n        deps: [HttpClient]\r\n      }\r\n    })\r\n\r\n  ],\r\n  declarations: [\r\n    DataGridComponent,\r\n    DataTreeComponent,\r\n    BtnEditRenderedComponent,\r\n    BtnCheckboxRenderedComponent,\r\n    BtnCheckboxFilterComponent,\r\n    DialogGridComponent,\r\n    DialogFormComponent,\r\n    DialogMessageComponent,\r\n  ],\r\n  entryComponents: [\r\n  ],\r\n  providers: [\r\n  ],\r\n  exports: [\r\n    HttpClientModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    NoopAnimationsModule,\r\n    AngularHalModule,\r\n    TranslateModule,\r\n    ReactiveFormsModule,\r\n    DataGridComponent,\r\n    DataTreeComponent,\r\n    DialogGridComponent,\r\n    DialogFormComponent,\r\n    DialogMessageComponent,\r\n    SitmunFrontendCoreModule\r\n  ]\r\n})\r\nexport class SitmunFrontendGuiModule {\r\n}\r\n"]}